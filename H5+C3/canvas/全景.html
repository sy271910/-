<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>循环全景</title>
</head>
<body>
<canvas id="canvas" width="800" height="200"></canvas>
<script>
    var canvas = document.getElementById('canvas');
    var cobj = canvas.getContext('2d');
    var img = new Image();
    img.src = 'img/Capitan_Meadows,_Yosemite_National_Park.jpg';
    var speed = 0;
    window.requestAnimationFrame(move)

    function move() {
        cobj.clearRect(0, 0, 800, 200);
        speed -= 1;
        if (speed <= -1024) {
            speed = 0;
        }
        cobj.drawImage(img, speed, 0);
        cobj.drawImage(img, 1024 + speed, 0);
        window.requestAnimationFrame(move)
    }
</script>
</body>
</html>
