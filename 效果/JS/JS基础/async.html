<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>async</title>
</head>

<body>

</body>
<script>
    //做饭
    function cook() {
        console.log('开始做饭。');
        var p = new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log('做饭完毕！');
                resolve('鸡蛋炒饭');
            }, 2000);
        });
        return p;
    }

    //吃饭
    function eat(data) {
        console.log('开始吃饭：' + data);
        var p = new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log('吃饭完毕!');
                resolve('一块碗和一双筷子');
            }, 2000);
        });
        return p;
    }
    //洗碗
    function wash(data) {
        console.log('开始洗碗：' + data);
        var p = new Promise(function (resolve, reject) {
            setTimeout(function () {
                console.log('洗碗完毕!');
                // resolve('干净的碗筷');
                reject('闹肚子了')
            }, 2000);
        });
        return p;
    }

    async function cooked() {
        try {
            let cooked = await cook()
            let eated = await eat(cooked)
            await wash(eated)
        } catch (err) {
            console.log(err)
        }
    }

    cooked()
</script>

</html>