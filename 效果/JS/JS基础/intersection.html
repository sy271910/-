<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>算法求交</title>
</head>

<body>

</body>
<script>
    let interTime = [];//交集的数组
    let time_1 = [{ s: 4, e: 6 }, { s: 8, e: 11 }, { s: 15, e: 22 }];
    let alltime = [{ s: 5, e: 12 }, { s: 18, e: 26 }];
    let temp = [];
    for (let time of time_1) {
        for (let timeTemp of alltime) {
            if (time.s >= timeTemp.e) {
                temp.push(timeTemp);
                continue;
            } else if (time.e <= timeTemp.s) {
                temp.push(timeTemp);
                continue;
            } else {
                let timeItem = {};
                let tempItem = {};
                if (time.s >= timeTemp.s) {
                    timeItem.s = time.s;
                } else {
                    timeItem.s = timeTemp.s;
                }
                if (time.e >= timeTemp.e) {
                    timeItem.e = timeTemp.e;
                } else {
                    timeItem.e = time.e;
                }
                interTime.push(timeItem);

                if (time.s > timeTemp.s) {
                    tempItem = {
                        s: timeTemp.s,
                        e: time.s
                    };
                    temp.push(tempItem);
                }
                if (time.e < timeTemp.e) {
                    tempItem = {
                        s: time.e,
                        e: timeTemp.e
                    };
                    temp.push(tempItem);
                }
            }
        }
        newTime = temp;
        temp = []
    }
    console.log(interTime);
</script>

</html>